import{b as I,E as T,N as M}from"./D15CGc8L.js";import{e as O,b as P,c as D}from"./BDjktSfL.js";import{a as L,E as $}from"./DJcLcQNQ.js";import{e as z,u as H,r as c,C as W,h as E,c as u,a as i,b as a,w as s,t as d,z as e,B as k,A as g,W as j,o as n,d as b,F as q,y as G}from"./C1-YZNuB.js";import{i as K,r as Q,P as V,o as v}from"./CSr2QsHi.js";import{u as X}from"./B_smzHkT.js";import{_ as Y}from"./DlAUqK2U.js";const Z={class:"profile"},ee={key:0},oe={key:1},te=z({__name:"personal",setup(le){X({title:"Профиль"});const t=I(),x=H(),m=c(!1),p=c(!1);W(()=>{t.authUser.isAuth||x.push("/login")});const N=h=>{t.deleteUser(h)},J=c(),r=E({...K,id:t.authUser.id}),F=E(Q),w=()=>{m.value=!0},S=()=>{p.value=!0,t.updateUser(r),m.value=!1,p.value=!1};return(h,o)=>{var y,U;const f=T,A=P,_=D,B=$,C=L,R=O;return n(),u("div",Z,[o[6]||(o[6]=i("h1",null,"Профиль",-1)),o[7]||(o[7]=i("p",null,"Здесь вы можете увидеть информацию о вашем профиле:",-1)),a(f,{onClick:w,type:"primary"},{default:s(()=>o[3]||(o[3]=[b("Изменить данные")])),_:1}),i("div",null,"Имя: "+d(e(t).authUser.loginName),1),i("div",null,"Должность: "+d(e(t).authUser.loginJob),1),((y=e(t))==null?void 0:y.authUser.loginJob)===e(V).OPERATOR?(n(),u("div",ee," Оклад: "+d(e(v)[e(t).authUser.loginJob].summa),1)):k("",!0),((U=e(t))==null?void 0:U.authUser.loginJob)===e(V).ASSISTANT?(n(),u("div",oe," Оклад: "+d(e(v)[e(t).authUser.loginJob].summa),1)):k("",!0),e(m)?(n(),g(R,{key:3,onSubmit:j(S,["prevent"]),"label-position":"top",ref_key:"ruleFormRef",ref:J,model:e(r),rules:e(F),"label-width":"120px",class:"login-form","status-icon":""},{default:s(()=>[a(_,null,{default:s(()=>[a(A,{modelValue:e(r).loginName,"onUpdate:modelValue":o[1]||(o[1]=l=>e(r).loginName=l),placeholder:e(t).authUser.loginName,"prefix-icon":e(M)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),a(_,null,{default:s(()=>[a(C,{modelValue:e(r).loginJob,"onUpdate:modelValue":o[2]||(o[2]=l=>e(r).loginJob=l),placeholder:e(t).authUser.loginJob,prop:"loginJob"},{default:s(()=>[(n(!0),u(q,null,G(e(v),l=>(n(),g(B,{key:l.title,label:l.title,value:l.title},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),a(_,null,{default:s(()=>[a(f,{loading:e(p),"native-type":"submit",type:"success",style:{width:"200px"}},{default:s(()=>o[5]||(o[5]=[b(" Сохранить профиль ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])):(n(),g(f,{key:2,onClick:o[0]||(o[0]=l=>N(e(t).authUser.id)),type:"danger",style:{width:"200px"}},{default:s(()=>o[4]||(o[4]=[b(" Удалить профиль ")])),_:1}))])}}}),me=Y(te,[["__scopeId","data-v-938d4ca7"]]);export{me as default};
