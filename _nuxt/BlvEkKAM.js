import{H as R,G as T,N as H}from"./mZ2Vn_nW.js";import{e as O,b as P,c as $}from"./6KaviEFC.js";import{a as D,E as L}from"./DyJssLun.js";import{k as q,a1 as G,q as g,_ as j,M as V,c as u,a as m,b as n,w as s,t as d,F as e,H as x,C as b,J as z,o as a,d as h,$ as K,a0 as Q}from"./W9yJkHaC.js";import{i as W,r as X,P as J,o as v}from"./CSr2QsHi.js";import{u as Y}from"./CjSRMWy6.js";import{u as Z}from"./DScVHCGZ.js";import{_ as ee}from"./DlAUqK2U.js";const te={class:"profile"},oe={key:0},le={key:1},se=q({__name:"personal",setup(ne){Z({title:"Профиль"});const o=R(),U=Y(),y=G(),p=g(!1),f=g(!1);j(()=>{var i;o.authUser.isAuth?U.filteringMonth.length&&y.push(((i=U.filteringMonth.at(-1))==null?void 0:i.transcriptionInMonth)+""):y.push("/login")});const N=i=>{o.deleteUser(i)},S=g(),r=V({...W,id:o.authUser.id}),F=V(X),M=()=>{p.value=!0},w=()=>{f.value=!0,o.updateUser(r),p.value=!1,f.value=!1};return(i,t)=>{var k,E;const _=T,C=P,c=$,A=L,B=D,I=O;return a(),u("div",te,[t[6]||(t[6]=m("h1",null,"Профиль",-1)),t[7]||(t[7]=m("p",null,"Здесь вы можете увидеть информацию о вашем профиле:",-1)),n(_,{onClick:M,type:"primary"},{default:s(()=>t[3]||(t[3]=[h("Изменить данные")])),_:1}),m("div",null,"Имя: "+d(e(o).authUser.loginName),1),m("div",null,"Должность: "+d(e(o).authUser.loginJob),1),((k=e(o))==null?void 0:k.authUser.loginJob)===e(J).OPERATOR?(a(),u("div",oe," Оклад: "+d(e(v)[e(o).authUser.loginJob].summa),1)):x("",!0),((E=e(o))==null?void 0:E.authUser.loginJob)===e(J).ASSISTANT?(a(),u("div",le," Оклад: "+d(e(v)[e(o).authUser.loginJob].summa),1)):x("",!0),e(p)?(a(),b(I,{key:3,onSubmit:z(w,["prevent"]),"label-position":"top",ref_key:"ruleFormRef",ref:S,model:e(r),rules:e(F),"label-width":"120px",class:"login-form","status-icon":""},{default:s(()=>[n(c,null,{default:s(()=>[n(C,{modelValue:e(r).loginName,"onUpdate:modelValue":t[1]||(t[1]=l=>e(r).loginName=l),placeholder:e(o).authUser.loginName,"prefix-icon":e(H)},null,8,["modelValue","placeholder","prefix-icon"])]),_:1}),n(c,null,{default:s(()=>[n(B,{modelValue:e(r).loginJob,"onUpdate:modelValue":t[2]||(t[2]=l=>e(r).loginJob=l),placeholder:e(o).authUser.loginJob,prop:"loginJob"},{default:s(()=>[(a(!0),u(K,null,Q(e(v),l=>(a(),b(A,{key:l.title,label:l.title,value:l.title},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),n(c,null,{default:s(()=>[n(_,{loading:e(f),"native-type":"submit",type:"success",style:{width:"200px"}},{default:s(()=>t[5]||(t[5]=[h(" Сохранить профиль ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])):(a(),b(_,{key:2,onClick:t[0]||(t[0]=l=>N(e(o).authUser.id)),type:"danger",style:{width:"200px"}},{default:s(()=>t[4]||(t[4]=[h(" Удалить профиль ")])),_:1}))])}}}),_e=ee(se,[["__scopeId","data-v-b3e395b7"]]);export{_e as default};
